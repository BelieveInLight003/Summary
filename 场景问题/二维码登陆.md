#### 整体流程概览

- 前端生成二维码：待登录设备（如网页）向自己的后端请求一个唯一的二维码（含临时 ID）。
- 用户扫描二维码：用户用第三方 App（如微信）扫描该二维码，获取临时 ID。
- 第三方验证用户身份：第三方 App 确认用户身份后，将临时 ID 与用户账号绑定。
- 后端轮询验证状态：待登录设备的后端通过轮询或 WebSocket 检查该临时 ID 是否已被第三方确认。
- 登录成功：验证通过后，待登录设备完成登录。

#### 前端请求生成二维码

```
// 前端代码示例（获取二维码）
fetch('/api/getQrCode')
  .then(res => res.json())
  .then(data => {
    // 后端返回二维码图片URL和临时ID
    const { qrCodeUrl, tempId } = data;
    // 展示二维码图片
    document.getElementById('qrCodeImg').src = qrCodeUrl;
    // 开始轮询二维码状态
    startPolling(tempId);
  });
```

#### 前端轮询二维码状态

```
// 轮询检查状态
function startPolling(tempId) {
  const interval = setInterval(() => {
    fetch(`/api/checkQrCodeStatus?tempId=${tempId}`)
      .then(res => res.json())
      .then(data => {
        if (data.status === 'confirmed') {
          // 登录成功，跳转主页
          clearInterval(interval);
          window.location.href = '/home';
        } else if (data.status === 'expired') {
          // 二维码过期，重新获取
          clearInterval(interval);
          refreshQrCode();
        }
      });
  }, 2000);
}
```
